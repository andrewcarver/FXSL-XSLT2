<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />

<title>Casting the Dice with FXSL: Random Number Generation Functions
in XSLT</title>
<meta NAME='description' CONTENT='Casting the Dice with FXSL: Random Number Generation Functions
in XSLT'>
<style type="text/css">
 p.c6 {font-style: italic; font-weight: bold}
 p.c5 {font-weight: bold}
 p.c4 {font-family: courier new; font-weight: bold}
 p.c3 {font-style: italic}
 p.c2 {font-family: courier new; 	font-size : 8pt;}
 p.c1 {text-align: left}
 font.c {
	font-family: courier new;
	font-size : smaller;
}
 font.s {font-size : smaller;}
 font.t {font-family: times new roman}
</style>
</head>
<body>

<table border="0" cellspacing="0">
	<tr>
<td width="100%">
<!-- Navigation --><table border="0" cellpadding="1" cellspacing="1" width="100%"><tr>
<td valign="top" align="right">
<p>&nbsp;</p>
</td>
<td valign="top" align="right" width="150">
&nbsp;		&nbsp;</td></tr></table><table align="right" cellPadding="0" cellSpacing="0" class="tablelayout" width="30%">
<tr>	<th align="middle" width="100%">Table of Contents</th></tr><tr><td bgColor="#ececff" width="100%"><br />	<font size="1"><IMG border="0" height="11" src="condensed.gif" width="11">&nbsp;<A href="#Introduction"><font size="1">Introduction</font></a><br />
	<font size="1">•&nbsp;</font><A href="#1._Generation_of_a_single_random_number_and_a_sequence_of random_numbers._Scaling_a_sequence."><font size="1">1. Generation of a single random number and a sequence of
random numbers. Scaling a sequence.</font></a><br />
	<font size="1">•&nbsp;</font><A href="#2._Generating_a_random_sequence_following_a_distribution.Subsequences."><font size="1">
2. Generating a random sequence following a distribution.
Subsequences.</font></a><br />
	<font size="1">•&nbsp;</font><A href="#3._Testing_randomness_with_Monte_Carlo_integration"><font size="1">3. Testing randomness with Monte Carlo integration</font></a><br />
	<font size="1">•&nbsp;</font><A href="#Conclusion"><font size="1">Conclusion</font></a><br />
	<font size="1">•&nbsp;</font><A href="#Resources"><font size="1">Resources</font></a><br />
	<br /><br /></font></font></td></tr></table>
<div>
<h1>Casting the Dice with FXSL: Random Number Generation Functions
in XSLT</h1>

<p class="c1"><a href="http://topxml.com/members/profile.asp?id=i1005">Dimitre Novatchev</a>, March - April 2002</p>

<p></p>

<p>This article is a follow-up from two recent publications <a
href="#res1">[1]</a>, <a href="#res2">[2]</a> on functional
programming in XSLT. Described is the <b><i>Random</i></b> module
of the XSLT functional programming library <b>FXSL</b> <a
href="#res3">[3]</a>, which <b></b>implements a linear congruential
method of generating a pseudo-random sequence of natural numbers
starting with a seed and then getting the next element of the
sequence, as described by Simon Thompson <a href="#res4">[4]</a>.
Such a sequence can then be scaled to natural or real numbers in
any given interval. Numbers can be also generated, denoting a given
event outcome with a specified probability (distribution).
Implemented is a simplified Monte Carlo integration to test the
"randomness" of the functions' results. The code of the
implementation demonstrates the use of such powerful, functional
programming design patterns as partial application and creation of
functions dynamically.</p>

<p></p>
<p>The source code for this article is part of the <b>FXSL</b> library version 1.1 
and can be downloaded <a href="http://sourceforge.net/project/showfiles.php?group_id=53841">here</a>:</p>
<p><a href="http://prdownloads.sourceforge.net/fxsl/fxsl-MS-1.1.zip?download">
<img border="0" src="zip.jpg"></a>&nbsp;
Using MSXML?&nbsp; <a href="http://prdownloads.sourceforge.net/fxsl/fxsl-MS-1.1.zip?download">Get the MSXML source code!</a></p>

<p><a href="http://prdownloads.sourceforge.net/fxsl/fxsl-Saxon-1.1.zip?download"><img border="0" src="zip.jpg"></a>&nbsp;
Using SAXON?&nbsp; <a href="http://prdownloads.sourceforge.net/fxsl/fxsl-Saxon-1.1.zip?download">Get the SAXON source code!</a></p>

<p><a href="http://prdownloads.sourceforge.net/fxsl/fxsl-Xalan-1.1.zip?download"><img border="0" src="zip.jpg"></a>&nbsp;
Using XALAN?&nbsp; <a href="http://prdownloads.sourceforge.net/fxsl/fxsl-Xalan-1.1.zip?download">Get the XALAN source code as adapted by Knut Wannheden !</a></p>
<h2><a name="Introduction">Introduction</a></h2>

<p>As the XSLT language and its usage evolve and mature over time,
there have been repeated questions about the availability of random
numbers generation in the language or how to implement it. The
prevailing answer has been that one is to write their own extension
functions, reflecting the lack of any standard random generation
functions in XPath 1.0 <a href="#res5">[5]</a>. Such a feature is
also missing in the published "XQuery 1.0 and XPath 2.0 Functions
and Operators" Working Draft <a href="#res6">[6]</a>.</p>

<p></p>

<p>This article has two goals:</p>

<ol start="1" type="1">
<li>To provide a set of functions for a majority of random numbers
related tasks as part of the FXSL XSLT functional programming (FP)
library.</li>

<li>To demonstrate how the implementation is taking advantage of
some very powerful FP design patterns, such as partial application
and creation of functions dynamically.</li>
</ol>

<h2><a name="1._Generation_of_a_single_random_number_and_a_sequence_of random_numbers._Scaling_a_sequence.">1. Generation of a single random number and a sequence of
random numbers. Scaling a sequence.</a></h2>

<p>In this article we follow the approach to random numbers
generation described by Simon Thompson in <a href="#res4">[4]</a>. While it may not be
realistic to aim at producing a truly random number sequence, we'll
implement generation of a <b>pseudo-random</b> sequence of natural
numbers, using a <b>linear congruential method</b>. This method
works in the following way: we start with <i>seed</i> and then get
the next element of the sequence from the previous one using the
following definition:</p>

<p></p>

<p class="c2">nextRand n = (n*multiplier + increment) `mod` modulus (1)</p>

<p></p>

<p>In our implementation we'll be using the following
constants:</p>

<p></p>

<p class="c2">seed&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = 17489</p>

<p class="c2">multiplier = 25173</p>

<p class="c2">increment&nbsp; = 13849</p>

<p class="c2">modulus&nbsp;&nbsp;&nbsp; = 65536</p>

<p></p>

<p>From <font class="c">(1)</font> and using the Haskell function <font class="c">iterate</font>, the following
will produce an infinite sequence of random numbers ranging from <font class="c">0</font>
 to <font class="c">modulus - 1</font>:</p>

<p></p>

<p class="c2">randomSequence :: Int -&gt; [Int]</p>

<p class="c2">randomSequence = iterate nextRand</p>

<p></p>

<p>where the function <font class="c">iterate</font> is defined in Haskell's Prelude in
the following way:</p>

<p></p>

<p class="c2">
iterate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
:: (a -&gt; a) -&gt; a -&gt; [a]</p>

<p class="c2">iterate f x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = x : iterate f
(f x)</p>

<p></p>

<p>so it creates an infinite list with head the argument  <font class="c">x</font> and each
consecutive element is the result of applying the function <font class="c">f</font> to the
previous element.</p>

<p></p>

<p>XSLT is a strict language (does not support lazy evaluation),
therefore we need a finite analog of the <font class="c">iterate</font> function:</p>

<p></p>

<p class="c2">scanIter :: (Ord a, Num a) =&gt; a -&gt; (b -&gt; b) -&gt; b
-&gt; [b]</p>

<p class="c2">scanIter n f x</p>

<p class="c2">&nbsp;&nbsp; | n == 0&nbsp; = [x]</p>

<p class="c2">&nbsp;&nbsp; | n &gt; 0&nbsp;&nbsp; = result ++ [f(last
result)]</p>

<p class="c2">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
where result = scanIter (n-1) f x</p>

<p></p>

<p></p>

<p></p>

<p>As defined above, <font class="c">scanIter</font> takes a number <font class="c">n</font>, a function <font class="c">f</font> and an
argument (for <font class="c">f</font>) <font class="c">x</font>, and produces a list of 
<font class="c">n+1</font> elements, the first
of which is <font class="c">x</font>, and each next element is the result of applying <font class="c">f</font> on
the current element.</p>

<p></p>

<p>Now, we can produce a sequence of &nbsp;<font class="c">n + 1</font>&nbsp; random numbers in the
following way:</p>

<p></p>

<p class="c2">randomSequence :: Int -&gt; [Int]</p>

<p class="c2">randomSequence = scanIter n nextRand</p>

<p></p>

<p>If we want the numbers to come in the integer range <font class="c">s</font> to <font class="c">t</font>
inclusive, we need to scale the sequence:</p>

<p></p>

<p class="c2">scaleSequence :: Int -&gt; Int -&gt; [Int] -&gt; [Int]</p>

<p class="c2">scaleSequence s t</p>

<p class="c2">&nbsp; = map scale</p>

<p class="c2">&nbsp;&nbsp;&nbsp; where</p>

<p class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scale n = n `div` denom + s</p>

<p class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; denom&nbsp;&nbsp; = modulus `div`
range</p>

<p class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; range&nbsp;&nbsp; = t - s + 1</p>

<p></p>

<p>Note that we are using partial application in the definition of
both <font class="c">randomSequence</font> and <font class="c">scaleSequence</font>. In our XSLT implementation
of these functions partial application is produced by using the
<font class="c">curry</font> function, described in detail in <a href="#res2">[2]</a>.</p>

<p>Bellow is the XSLT implementation of <font class="c">nextRand</font>, <font class="c">scanIter</font>,
<font class="c">scaleSequence</font> and <font class="c">randomSequence</font>.</p>

<p></p>

<p><font class="c"><b>randNext</b></font></p>

<p></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">===========================================================
 Stylesheet: random.xsl           Randomization Functions  
    Version: 1.0 (2002-03-16)                              
   Based on: Random number algorithms in Simon Thompson's  
             &quot;Haskell, the craft of functional programming&quot;
===========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">version</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1.0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">http://www.w3.org/1999/XSL/Transform</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:vendor</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">urn:schemas-microsoft-com:xslt</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:randScale</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:randScale</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:myRandNext</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:myRandNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:mySingleRandDistFun</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:mySingleRandDistFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:x</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:fxslRandom.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #800080; background-color: #D3ECEF;">exclude-result-prefixes</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">xsl vendor randScale 
 myRandNext mySingleRandDistFun x</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
&gt;

&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">  ========================================================
    Imported files:                                       
  ========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">map.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">curry.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">iter.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">  ========================================================
    Global Randomizing constants:                         
  ========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;       </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">17489</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">multiplier</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">25173</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">increment</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">13849</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">modulus</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;    </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">65536</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">&nbsp;&nbsp;This is a linear congruental method of generating       
&nbsp;&nbsp;a pseudo-random sequence of natural numbers             
&nbsp;&nbsp;starting with a seed and then getting the next element  
&nbsp;&nbsp;of the sequence from the previous value like this:      
&nbsp;&nbsp;                                                        
&nbsp;&nbsp;nextRand :: Int -&gt; Int                                  
&nbsp;&nbsp;nextRand n = (multiplier * n + increment) `mod` modulus 
</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">      Template: randNext                                   
      Purpose : Return the value of the next random number 
                from the current                           
    Parameters:                                            
         $arg1  - the current random number,               
                  from which to produce the next           
  ======================================================== </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">myRandNext:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">($multiplier * $arg1 + $increment) 
                         mod 
                           $modulus</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span>
<span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span></pre></td>
</tr>
</table>


<p><font class="c"><b>scanIter</b></font>:</p>

<p></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">    Template: scanIter                                     
     Purpose: Iterate (compose a function with itself)     
              N times and produce a list, whose elements   
              are the results from the partial iterations  
  Parameters:-                                             
    $arg1   - the number of times to iterate               
    $arg2   - a template reference to the function         
              that's to be iterated                        
    $arg3   - an initial argument to the function          
    $arg4   - [optional] name for the elements             
              in the result node-set                       
  =========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">scanIter</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">               &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> n </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">               &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> x </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'el'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> elName </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">     &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">test</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1 </span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;lt;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;"> 0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:message</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF; font-weight: bold;">        [scanIter]Error: Negative value for n.
       </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:message</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">     &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">     &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">test</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1 = 0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:element</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">{$arg4}</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;       </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:element</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">     &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">     &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfIterMinus</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">scanIter</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">           &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1 - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">           &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">           &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">           &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vIterMinus</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
            </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfIterMinus)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfLastIter</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:element</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">{$arg4}</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;         </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;           </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                           </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vIterMinus[last()]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;         </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:element</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vIterMinus</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">              </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfLastIter)</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">     &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre></td>
</tr>
</table>

<p></p>

<p><font class="c"><b>scaleSequence, randomSequence, randScale</b></font>:</p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">      Template: scaleSequence                              
      Purpose : Return a scaled version of a sequence      
                from a given sequence                      
    Parameters:                                            
       $pStart  - [optional] the start of the interval,    
                   in which randoms                        
                   are to be produced                      
       $pEnd    - [optional] the end of the interval,      
                   in which randoms                        
                   are to be produced                      
       $pList   - the list of numbers that are to be scaled
  =========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">scaleSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pList</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vScaleFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/randScale:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vRange</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pEnd - $pStart + 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfCurriedScale</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">curry</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vScaleFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pNargs</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vRange</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vFixedScaleFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfCurriedScale)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">                  
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">map</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vFixedScaleFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pList1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pList</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">      Template: randomSequence                             
      Purpose : Return a sequence of random numbers        
                starting from a seed                       
    Parameters:                                            
      $pLength  - [optional] the length of the sequence    
                   of randoms that must be produced        
      $pSeed    - [optional] the seed for the randomization
      $pStart   - [optional] the start of the interval,    
                  in which randoms are to be produced      
      $pEnd     - [optional] the end of the interval,      
                  in which randoms are to be produced      
  =========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$modulus - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vFunRandNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/myRandNext:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfUnscaledSeq</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">scanIter</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;      </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pLength - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;&lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> n </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;      </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vFunRandNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;&lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;      </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> x </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">test</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pStart = 0 
                     and $pEnd = $modulus - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">           </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfUnscaledSeq)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">scaleSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pList</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfUnscaledSeq)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre>
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--</span><span style="color: #000080; background-color: #F1F1DE;">   The following  scales a single number n 
       from the interval [0, modulus - 1]      
       to the interval [s, t]                  
                                               
       scale n = n `div` denom + s             
       range   = t - s + 1                     
       denom   = modulus `div` range           

</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randScale:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> n </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> s </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> range </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vDenom</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">floor($modulus div $arg3)</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">floor($arg1 div $vDenom) 
                                + $arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre>

</td></tr>
</table>
<p>Let's test these functions now:</p>

<b>test1-random.xsl</b>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">version</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1.0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">http://www.w3.org/1999/XSL/Transform</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:vendor</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">urn:schemas-microsoft-com:xslt</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #800080; background-color: #D3ECEF;">exclude-result-prefixes</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">xsl vendor</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">random.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> To be run on any input xml file </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:output</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">indent</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">yes</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">omit-xml-declaration</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">yes</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;#xA;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfUnscaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">100</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vUnscaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfUnscaledRandoms)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="background-color: #D3ECEF; font-weight: bold;">100 Randoms in (0, </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$modulus - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">):
    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vUnscaledRandoms
                             [position() mod 8 = 1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">. 
                       | following::*[position() </span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;lt;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;"> 8]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat(., ', ')</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">10</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">         </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat($NL,$NL,
                        '100 Randoms in (',
                        $vStart, ', ',
                        $vEnd, '):',
                        $NL
                        )</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfScaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                    </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">100</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                    </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;                    </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vScaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfScaledRandoms)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vScaledRandoms
                                [position() mod 10 = 1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">. 
                      | following::*[position() </span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;lt;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;"> 10]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat(., ', ')</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre></td>
</tr>
</table>

<p></p>

<p>When this transformation is performed (ignoring the source xml
document) the result is:</p>

<p></p>

<table border="1" cellspacing="0" cellpadding="0" width="100%"
bgcolor="#ffff99">
<tr>
<td valign="top">
<font size="-1"><b><p class="c2">100 Randoms in (0, 65535):</p>

<p class="c2">&nbsp;&nbsp;&nbsp;</p>

<p class="c2">17489, 59134, 9327, 52468, 43805, 8378, 18395,
59344,</p>

<p class="c2">52777, 23478, 21895, 18924, 6517, 29682, 22899,
61256,</p>

<p class="c2">14593, 34158, 40863, 5092, 6349, 60458, 46091,
13248,</p>

<p class="c2">58585, 17446, 25271, 2780, 2341, 26978, 47011,
38200,</p>

<p class="c2">12721, 30686, 65231, 3796, 19069, 52122, 50235,
62384,</p>

<p class="c2">32649, 150, 54247, 65484, 15573, 62162, 14803,
12072,</p>

<p class="c2">11873, 48718, 16895, 48580, 16429, 48906, 30827,
10144,</p>

<p class="c2">40505, 37126, 43287, 10428, 46213, 4162, 57347,
48408,</p>

<p class="c2">12049, 22718, 26927, 8372, 63965, 50810, 53403,
53136,</p>

<p class="c2">16617, 62838, 57927, 34220, 28725, 49586, 43571,
16136,</p>

<p class="c2">13249, 18222, 29791, 14244, 30605, 57834, 52427,
60288,</p>

<p class="c2">26521, 11750, 32631, 5788, 28645, 1826, 39011,
46328,</p>

<p class="c2">15473, 35230, 25487, 660,</p>

<p class="c2"></p>

<p class="c2">100 Randoms in (1, 10):</p>

<p class="c2"></p>

<p class="c2">3, 10, 2, 9, 7, 2, 3, 10, 9, 4,</p>

<p class="c2">4, 3, 1, 5, 4, 10, 3, 6, 7, 1,</p>

<p class="c2">1, 10, 8, 3, 9, 3, 4, 1, 1, 5,</p>

<p class="c2">8, 6, 2, 5, 10, 1, 3, 8, 8, 10,</p>

<p class="c2">5, 1, 9, 10, 3, 10, 3, 2, 2, 8,</p>

<p class="c2">3, 8, 3, 8, 5, 2, 7, 6, 7, 2,</p>

<p class="c2">8, 1, 9, 8, 2, 4, 5, 2, 10, 8,</p>

<p class="c2">9, 9, 3, 10, 9, 6, 5, 8, 7, 3,</p>

<p class="c2">3, 3, 5, 3, 5, 9, 9, 10, 5, 2,</p>

<p class="c2">5, 1, 5, 1, 6, 8, 3, 6, 4, 1,</p>
<p></p>
</b></font>
</td>
</tr>
</table>

<h2><a name="2._Generating_a_random_sequence_following_a_distribution.Subsequences."><br />
2. Generating a random sequence following a distribution.
Subsequences.</a></h2>

<p>Suppose we want to model an event, which has <font class="c">N</font> distinct
outcomes. Sometimes we want that each outcome must have a
predefined probability.&nbsp; First we define a <i>Distribution</i>
type, which is a list of pairs of <i>outcome object</i> and <i>outcome
object's probability</i>. In order for this to make sense, the objects
in the list must all be distinct, and their probabilities must sum
up to
1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>


<p class="c2">type Distribution a&nbsp; = [(a,
Float)]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>


<p>Suppose we need to model random outcomes 1 to 6 each with its
given probability:&nbsp;&nbsp;</p>


<p class="c2">dist1 :: Distribution
Int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class="c2">dist1 = [(1,0.2), (2,0.25), (3,0.25), (4,0.15), (5,0.1), (6,
0.05)]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>


<p>We will use a function, which given a distribution produces
another function, that maps the interval <font class="c">[0,65535]</font> into the set
of distinct objects according to their probability. The idea is to
divide the interval <font class="c">[0,65535]</font> into <font class="c">N</font> intervals
 (where <font class="c">N = length(dist)</font> is the number of distinct objects), but
in such a way, that the lengths of these intervals are proportional
to the probabilities of the corresponding
objects.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>


<p class="c2">makeFunction :: Distribution a -&gt; (Float -&gt; a)</p>

<p class="c2">makeFunction dist = makeFun dist
0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>


<p class="c2">makeFun ((ob, p) : dist) nLast rand</p>

<p></p>

<p class="c2">&nbsp; | nNext &gt;= rand &amp;&amp; rand &gt; nLast</p>

<p class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&nbsp; ob</p>

<p></p>

<p class="c2">&nbsp; | otherwise</p>

<p class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = makeFun dist nNext
rand</p>

<p class="c2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; where</p>

<p class="c2">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
nNext = p*fromInt modulus + nLast </p>


<p>Then the transformation of a list of random numbers into a list
of (weighted) random numbers according to a distribution <font class="c">dist</font> is
given by the
expression:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p class="c2">map (makeFunction dist)</p>

<p></p>

<p>Here's the XSLT implementation.</p>

<p></p>

<p><font class="c"><b>dist-randomSequence</b></font>:</p>

<p></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">      Template: dist-randomSequence                        
      Purpose : Return the value of the next random number 
                from the current                           
    Parameters:                                            
      $pLength  - [optional] the length of the sequence    
                   of randoms that must be produced        
      $pDist    - a list of distributions                  
                 (outcome,probability pairs)               
                  e.g.:                                    
                    &lt;myDistribution:myDistribution&gt;        
                      &lt;o&gt;1&lt;/o&gt;&lt;p&gt;0.2&lt;/p&gt;                   
                      &lt;o&gt;2&lt;/o&gt;&lt;p&gt;0.25&lt;/p&gt;                  
                      &lt;o&gt;3&lt;/o&gt;&lt;p&gt;0.25&lt;/p&gt;                  
                      &lt;o&gt;4&lt;/o&gt;&lt;p&gt;0.15&lt;/p&gt;                  
                      &lt;o&gt;5&lt;/o&gt;&lt;p&gt;0.1&lt;/p&gt;                   
                      &lt;o&gt;6&lt;/o&gt;&lt;p&gt;0.05&lt;/p&gt;                  
                    &lt;/myDistribution:myDistribution&gt;       
                                                           
    $pSeed      - [optional] the seed for the randomization
  =========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">dist-randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfNormalRandomSeq</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vmakeFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/mySingleRandDistFun:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> build makeFun dist 0.0 </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfDistFunction</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">curry</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vmakeFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pNargs</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0.0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">map</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
           </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfDistFunction)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pList1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfNormalRandomSeq)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre>

<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="background-color: #D3ECEF; font-weight: bold;">  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">makeFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">mySingleRandDistFun:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">              &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> rand </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
               </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> Distribution </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">              &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> nLast </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vP</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2[2]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vOutcome</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vnNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vP * $modulus + $arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--</span><span style="color: #0000FF; background-color: #F1F1DE;">                                                 
</span><span style="color: #000080; background-color: #F1F1DE;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;   | nNext &gt;= rand &amp;&amp; rand &gt; nLast                
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;         =  ob                                    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">test</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vnNext &gt;= $arg1 and $arg1 &gt; $arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vOutcome/node()</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;   | otherwise                                    
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;         = makeFun dist nNext rand                
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">makeFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">          &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">          &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                          </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2[position() &gt; 2]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">          &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vnNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre>
</td>
</tr>
</table>

<p>Finally, someone will rightfully ask why our random sequences
are always the same, starting with exactly the same numbers. A
workaround for this issue is to be able to pick up a
<b>subsequence</b> of the random sequence, and define the starting
element of the subsequence in some non-deterministic way (e.g. use
an extension function to get the current time and use the value of
the seconds as index for the start of the subsequence).</p>

<p>The implementation is straightforward:</p>

<p><font class="c"><b>randomSubSequence, dist-randomSubSequence</b></font>:</p>

<p></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">      Template: randomSubSequence                          
      Purpose : Return a sub-sequence of random numbers    
                starting from a given index                
    Parameters:                                            
     $pLength   - [optional] the length of the sequence    
                   of randoms that must be produced        
     $pSubStart - [optional] the index at which            
                   the sub-sequence is to start            
     $pSeed     - [optional] the seed for the randomization
     $pStart    - [optional] the start of the interval,    
                  in which randoms are to be produced      
     $pEnd      - [optional] the end of the interval,      
                  in which randoms are to be produced      
  =========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSubSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSubStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$modulus - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfInitSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pSubStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
           </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfInitSequence)
                                              /*[last()]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
&lt;!--
</span><span style="color: #000080; background-color: #F1F1DE;">      Template: dist-randomSubSequence                     
      Purpose : Return a sub-sequence of random numbers    
                starting from a given index, and according 
                to a given distribution                    
    Parameters:                                            
     $pLength   - [optional] the length of the sequence    
                   of randoms that must be produced        
     $pSubStart - The index at which the sub-sequence      
                  is to start                              
     $pDist     - a list of distributions                  
                  (outcome,probability pairs)              
                  e.g.:                                    
                    &lt;myDistribution:myDistribution&gt;        
                      &lt;o&gt;1&lt;/o&gt;&lt;p&gt;0.2&lt;/p&gt;                   
                      &lt;o&gt;2&lt;/o&gt;&lt;p&gt;0.25&lt;/p&gt;                  
                      &lt;o&gt;3&lt;/o&gt;&lt;p&gt;0.25&lt;/p&gt;                  
                      &lt;o&gt;4&lt;/o&gt;&lt;p&gt;0.15&lt;/p&gt;                  
                      &lt;o&gt;5&lt;/o&gt;&lt;p&gt;0.1&lt;/p&gt;                   
                      &lt;o&gt;6&lt;/o&gt;&lt;p&gt;0.05&lt;/p&gt;                  
                    &lt;/myDistribution:myDistribution&gt;       
                                                           
     $pSeed     - [optional] the seed for the randomization
  =========================================================</span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">dist-randomSubSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSubStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfInitSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pSubStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">dist-randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
           </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfInitSequence)
                                              /*[last()]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre></td>
</tr>
</table>

<p></p>

<p></p>

<p>Let's now test all functions in the Random.xsl module.</p>

<p></p>

<p><font class="c"><b>test-random.xsl</b></font>:</p>

<p></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">version</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1.0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">http://www.w3.org/1999/XSL/Transform</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:vendor</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">urn:schemas-microsoft-com:xslt</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:myDistribution</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:myDistribution</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #800080; background-color: #D3ECEF;">exclude-result-prefixes</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">xsl vendor myDistribution</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">random.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800000; background-color: #D3ECEF;">myDistribution:myDistribution</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;&lt;</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0.2</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;&lt;</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0.25</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;&lt;</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0.25</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">4</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;&lt;</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0.15</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">5</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;&lt;</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0.1</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">6</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">o</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;&lt;</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0.05</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #008080; background-color: #D3ECEF; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800000; background-color: #D3ECEF;">myDistribution:myDistribution</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:output</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">indent</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">yes</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">omit-xml-declaration</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">yes</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;#xA;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfUnscaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">100</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vUnscaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
     </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfUnscaledRandoms)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="background-color: #D3ECEF; font-weight: bold;">100 Randoms in (0,</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$modulus - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">):
    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vUnscaledRandoms
                             [position() mod 8 = 1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">         </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">. | following::*[position() </span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;lt;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;"> 8]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat(., ', ')</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">10</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat($NL,$NL,
                                 '100 Randoms in (',
                                 $vStart, ', ',
                                 $vEnd, '):',
                                 $NL
                                 )</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfScaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">100</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;    </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;  </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vScaledRandoms</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
       </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfScaledRandoms)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vScaledRandoms
                              [position() mod 10 = 1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">         </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">. | following::*[position() </span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;lt;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;"> 10]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat(., ', ')</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat($NL,$NL,
                                 'Randoms 11-20 in (',
                                 $vStart, ', ',
                                 $vEnd, '):',
                                 $NL
                                 )</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfRandSubsequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randomSubSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">10</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSubStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">11</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;      </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vEnd</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">      </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfRandSubsequence)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfDistRandSeq</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">dist-randomSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">100</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">document('')/*/myDistribution:*[1]/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat($NL,$NL,
      '100 Random outcomes 1-6 with distribution:</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;#xA;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'
                                 )</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">         </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">document('')/*/myDistribution:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">          </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat($NL, $NL, 'Results:', $NL)</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vDistRandSeq</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfDistRandSeq)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vDistRandSeq
                              [position() mod 10 = 1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$NL</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">         </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">. | following::*[position() </span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold; font-style: italic;">&amp;lt;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;"> 10]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat(., ', ')</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:for-each</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">concat($NL,$NL,
           'Randoms 11-20 with the same distribution:',
                                 $NL
                                 )</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfDistRandSubsequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">dist-randomSubSequence</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pLength</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">10</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pSubStart</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">11</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pDist</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">document('')/*/myDistribution:*[1]/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:copy-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">    </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfDistRandSubsequence)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre></td>
</tr>
</table>

<p></p>

<p>When applied on any xml source document, the above
transformation produces the following results:</p>

<p></p>

<table width="100%" bgcolor="#ffff99">
<tr><td>
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #ffff99;"><span style="background-color: #ffff99; font-weight: bold;">100 Randoms in (0,65535):
    
17489, 59134, 9327, 52468, 43805, 8378, 18395, 59344, 
52777, 23478, 21895, 18924, 6517, 29682, 22899, 61256, 
14593, 34158, 40863, 5092, 6349, 60458, 46091, 13248, 
58585, 17446, 25271, 2780, 2341, 26978, 47011, 38200, 
12721, 30686, 65231, 3796, 19069, 52122, 50235, 62384, 
32649, 150, 54247, 65484, 15573, 62162, 14803, 12072, 
11873, 48718, 16895, 48580, 16429, 48906, 30827, 10144, 
40505, 37126, 43287, 10428, 46213, 4162, 57347, 48408, 
12049, 22718, 26927, 8372, 63965, 50810, 53403, 53136, 
16617, 62838, 57927, 34220, 28725, 49586, 43571, 16136, 
13249, 18222, 29791, 14244, 30605, 57834, 52427, 60288, 
26521, 11750, 32631, 5788, 28645, 1826, 39011, 46328, 
15473, 35230, 25487, 660, 

100 Randoms in (1, 10):

3, 10, 2, 9, 7, 2, 3, 10, 9, 4, 
4, 3, 1, 5, 4, 10, 3, 6, 7, 1, 
1, 10, 8, 3, 9, 3, 4, 1, 1, 5, 
8, 6, 2, 5, 10, 1, 3, 8, 8, 10, 
5, 1, 9, 10, 3, 10, 3, 2, 2, 8, 
3, 8, 3, 8, 5, 2, 7, 6, 7, 2, 
8, 1, 9, 8, 2, 4, 5, 2, 10, 8, 
9, 9, 3, 10, 9, 6, 5, 8, 7, 3, 
3, 3, 5, 3, 5, 9, 9, 10, 5, 2, 
5, 1, 5, 1, 6, 8, 3, 6, 4, 1, 

Randoms 11-20 in (1, 10):
</span><span style="color: #0000FF; background-color: #ffff99;">&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">4</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">5</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">4</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">10</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">6</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">7</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;

</span><span style="background-color: #ffff99; font-weight: bold;">100 Random outcomes 1-6 with distribution:
</span><span style="color: #0000FF; background-color: #ffff99;">&lt;</span><span style="color: #800000; background-color: #ffff99;">myDistribution:myDistribution</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="color: #FF0000; background-color: #ffff99;">
&lt;</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;&lt;</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">0.2</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;&lt;</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">0.25</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;&lt;</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">0.25</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">4</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;&lt;</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">0.15</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">5</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;&lt;</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">0.1</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">6</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">o</span><span style="color: #0000FF; background-color: #ffff99;">&gt;&lt;</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">0.05</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #008080; background-color: #ffff99; font-weight: bold;">p</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;/</span><span style="color: #800000; background-color: #ffff99;">myDistribution:myDistribution</span><span style="color: #0000FF; background-color: #ffff99;">&gt;

</span><span style="background-color: #ffff99; font-weight: bold;">Results:

2, 5, 1, 4, 3, 1, 2, 5, 4, 2, 
2, 2, 1, 3, 2, 5, 2, 3, 3, 1, 
1, 5, 4, 2, 5, 2, 2, 1, 1, 2, 
4, 3, 1, 3, 6, 1, 2, 4, 4, 6, 
3, 1, 4, 6, 2, 5, 2, 1, 1, 4, 
2, 4, 2, 4, 3, 1, 3, 3, 3, 1, 
4, 1, 5, 4, 1, 2, 2, 1, 6, 4, 
4, 4, 2, 6, 5, 3, 2, 4, 3, 2, 
2, 2, 3, 2, 3, 5, 4, 5, 2, 1, 
3, 1, 2, 1, 3, 4, 2, 3, 2, 1, 

Randoms 11-20 with the same distribution:
</span><span style="color: #0000FF; background-color: #ffff99;">&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">5</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
&lt;</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;</span><span style="background-color: #ffff99; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #ffff99;">&lt;/</span><span style="color: #800000; background-color: #ffff99;">el</span><span style="color: #0000FF; background-color: #ffff99;">&gt;
</span></pre>
</td></tr>
</table>

<h2></h2>

<h2><a name="3._Testing_randomness_with_Monte_Carlo_integration">3. Testing randomness with Monte Carlo integration</a></h2>

<p></p>

<p>One way to test the "randomness" of a given random generator is
to use it in Monte Carlo integration to calculate the (known) value
of an integral. We implement the simplest possible case of
Monte-Carlo integration, in which</p>

<p class="c2">&nbsp; f(x) &gt; 0 for x in [x<sub>a</sub>, x<sub>b</sub>]</p>

<p>and the absolute maximum value of <font class="c">f(x)</font> in this interval is
known. This allows us to specify an interval in which <font class="c">f(x)</font> will
vary in <font class="c">[0, y<sub>max</sub>]</font>.<br />
</p>

<p>The idea of this method of integration is simple: we generate
"random points" and count how many of them are bellow the graphic
of <font class="c">f(x)</font>, and how many - above. In case the "random points" are
really uniformly dispersed over the area, then the ratio of
<font class="c">points-bellow</font> to <font class="c">total-points</font> should be the same as the ratio of the
space covered by the graphic of <font class="c">f(x)</font> and of the straight line <font class="c">g(x)
= y<sub>max</sub></font>. Then:<br />
</p>

<p class="c2">&nbsp;&nbsp;
b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
points-bellow<br />

&nbsp; <font size="+2">&#8747;</font>f(x)dx&nbsp; =&nbsp; (y<sub>max</sub> - y<sub>min</sub>)
----------------<br />

&nbsp;&nbsp;
a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
total-points</p>

<p></p>

<p></p>

<p>Warning: This method converges notoriously slow (<font class="c">sqrt(1/N)</font>) and
is not recommended for use other than testing!</p>

<p></p>

<p>In order to implement Monte Carlo integration, we need just one
additional function that would scale a random number into a
floating-point number, belonging to a given interval.&nbsp; The
scaling transformation is defined as follows:</p>

<p></p>

<p class="c2">X<sub>sc</sub> =&nbsp; a*X + b</p>

<p></p>

<p>Where</p>

<p class="c2">a = (X<sub>b</sub> - X<sub>a</sub>) / (modulus - 1)</p>

<p class="c2">b = X<sub>a</sub></p>

<p></p>

<p class="c2">Y<sub>sc</sub> = c*Y + d</p>

<p></p>

<p class="c2">c = (Y<sub>max</sub> - Y<sub>min</sub>)&nbsp; / (modulus -
1)</p>

<p class="c2">d = Y<sub>min</sub></p>

<p><sub></sub></p>

<p>Bellow is the XSLT implementation of simple Monte-Carlo
integration, also presented is the generation of random floating
point numbers.</p>

<p></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">version</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1.0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">http://www.w3.org/1999/XSL/Transform</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:vendor</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">urn:schemas-microsoft-com:xslt</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:x</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:fxsl-monteCarlo</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:genTest</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:genTest</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:rFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:rFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #800080; background-color: #D3ECEF;">exclude-result-prefixes</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">xsl vendor x 
                          genTest rFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 &gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">random.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">iter.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> Fun: GenerateAndTest </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800000; background-color: #D3ECEF;">genTest:genTest</span><span style="color: #0000FF; background-color: #D3ECEF;">/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> Fun: rFloat </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800000; background-color: #D3ECEF;">rFloat:rFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">x:st</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">document('')/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">monteCarlo</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> n (Iterations) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f (fn to be integrated) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sx (start of interval for x) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">                
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> tx (end of interval for x) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">                
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sy (start of interval for y) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg5</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> ty (end of interval for y) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg6</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">                
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> starting seed </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg7</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vGenAndTest</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/genTest:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vRFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/rFloat:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vIntRange</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$modulus - 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
&lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> rndFloatX = rFloat((tx - sx)/dintRange) sx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtf-rndFloatX</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">curry</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pNargs</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vRFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
             </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">($arg4 - $arg3) 
                    div $vIntRange</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
&lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> rndFloatY = rFloat((ty - sy)
                    / dintRange) sy </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtf-rndFloatY</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">curry</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pNargs</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vRFloat</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
             </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">($arg6 - $arg5) 
                    div $vIntRange</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg5</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtfGTParams</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;   </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800000; background-color: #D3ECEF;">cnt</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="background-color: #D3ECEF; font-weight: bold;">0</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">cnt</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;   </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800000; background-color: #D3ECEF;">seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;     </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg7</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">       &lt;/</span><span style="color: #800000; background-color: #D3ECEF;">seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vrtf-GenerateAndTest</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">curry</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pNargs</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vGenAndTest</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtf-rndFloatX)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtf-rndFloatY)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vResultIterations</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">iter</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pTimes</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pFun</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
   </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtf-GenerateAndTest)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">pX</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vrtfGTParams)/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vnHits</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vendor:node-set($vResultIterations)/*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vSpace</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">($arg4 - $arg3) * ($arg6 - $arg5)</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> 
</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">         </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vnHits div $arg1 * $vSpace</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">genTest:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> (ct, sd) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> rndFloatX </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> rndFloatY </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/..</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vCount</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;  
                  </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1[2]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vNextSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">randNext</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">v-rndX</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vF-rndX</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$v-rndX</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">v-rndY</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                        </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vNextSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:apply-templates</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">test</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vF-rndX &gt;= $v-rndY</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800000; background-color: #D3ECEF;">cnt</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vCount + 1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;/</span><span style="color: #800000; background-color: #D3ECEF;">cnt</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:when</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;</span><span style="color: #800000; background-color: #D3ECEF;">cnt</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">         &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vCount</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">        &lt;/</span><span style="color: #800000; background-color: #D3ECEF;">cnt</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:otherwise</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:choose</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;      </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800000; background-color: #D3ECEF;">seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;       </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vNextSeed</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="background-color: #D3ECEF;">&nbsp;&nbsp;      </span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800000; background-color: #D3ECEF;">seed</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> computes a*sd + b </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">rFloat:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> a </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> b </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sd </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1*$arg3 + $arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre></td>
</tr>
</table>

<p></p>

<p>And here's is a test with 65536 random points (as you have been
warned, don't attempt to run this on a slow machine!) and the
results:</p>

<p></p>

<p><font class="c"><b>test-monteCarlo.xsl</b></font></p>

<table width="100%" bgcolor="#D3ECEF">
<tr>
<td valign="top">
<!-- Highlighted HTML from Xselerator -->
<pre style="font-family: Courier New; font-size: 8pt;; color: #000000; background-color: #D3ECEF;"><span style="color: #0000FF; background-color: #D3ECEF;">&lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">version</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1.0</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">http://www.w3.org/1999/XSL/Transform</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:x</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:fxsl-test-monteCarlo</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:mySampleFun1</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:mySampleFun1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:mySampleFun2</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:mySampleFun2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #FF0000; background-color: #D3ECEF;">xmlns:mySampleFun3</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #FF0000; background-color: #D3ECEF; font-weight: bold;">f:mySampleFun3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 </span><span style="color: #800080; background-color: #D3ECEF;">exclude-result-prefixes</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">xsl mySampleFun1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;
 &gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:import</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">href</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">monteCarlo.xsl</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:output</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">method</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">text</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800000; background-color: #D3ECEF;">mySampleFun1:mySampleFun1</span><span style="color: #0000FF; background-color: #D3ECEF;">/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800000; background-color: #D3ECEF;">mySampleFun2:mySampleFun2</span><span style="color: #0000FF; background-color: #D3ECEF;">/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800000; background-color: #D3ECEF;">mySampleFun3:mySampleFun3</span><span style="color: #0000FF; background-color: #D3ECEF;">/&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">x:st</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">document('')/*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">/</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vSampleFun1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/mySampleFun1:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vSampleFun2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/mySampleFun2:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:variable</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">vSampleFun3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
         </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$x:st/mySampleFun3:*[1]</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">monteCarlo</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">65536</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vSampleFun1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> tx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg5</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sy </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg6</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> ty </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:text</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"></span><span style="color: #000000; background-color: #D3ECEF; font-style: italic;">&amp;#xA;</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:text</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">monteCarlo</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">65536</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vSampleFun2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> tx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg5</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sy </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg6</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> ty </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:text</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"></span><span style="color: #000000; background-color: #D3ECEF; font-style: italic;">&amp;#xA;</span><span style="color: #0000FF; background-color: #D3ECEF;">&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:text</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">monteCarlo</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">65536</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$vSampleFun3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg3</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg4</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">2</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> tx </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg5</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">'0'</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> sy </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">      &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:with-param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg6</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot; 
                      </span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;">   &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> ty </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:call-template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f x = 4 / (1 + x^2) </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">mySampleFun1:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">4 
                       div (1 + $arg1*$arg1)</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f x = x </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">mySampleFun2:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">$arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;

</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;!--</span><span style="color: #000080; background-color: #F1F1DE;"> f x = 1 / x </span><span style="color: #0000FF; background-color: #D3ECEF;">--&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">match</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">mySampleFun3:*</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;&gt;</span><span style="color: #0000FF; background-color: #D3ECEF;"> 
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:param</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">name</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">    
</span><span style="color: #0000FF; background-color: #D3ECEF;">    &lt;</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:value-of</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"> </span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;"></span><span style="color: #800080; background-color: #D3ECEF;">select</span><span style="color: #0000FF; background-color: #D3ECEF;">=&quot;</span><span style="color: #000000; background-color: #D3ECEF; font-weight: bold;">1 div $arg1</span><span style="color: #0000FF; background-color: #D3ECEF;">&quot;/&gt;
</span><span style="color: #0000FF; background-color: #D3ECEF;">  &lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:template</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
&lt;/</span><span style="color: #800080; background-color: #D3ECEF; font-weight: bold;">xsl:stylesheet</span><span style="color: #0000FF; background-color: #D3ECEF;">&gt;
</span></pre></td>
</tr>
</table>

<p></p>

<p>And the results are:</p>

<p></p>

<table border="1" cellspacing="0" cellpadding="0" width="100%"
bgcolor="#ffff99">
<tr>
<td valign="top">
<p>3.1414794921875</p>

<p>0.4999847412109375</p>

<p>0.693206787109375</p>
</td>
</tr>
</table>

<p></p>

<p>As the actual values of the three integrals are well-known and
must be respectively: <font class="c">pi, ½&nbsp; </font>and <font class="c">ln(2)</font>, we can see that our
random generator does a pretty good job.</p>

<h2><a name="Conclusion">Conclusion</a></h2>

<p>This article proves once again that it is easy to implement even
difficult and scary algorithms using powerful functional
programming functions and design patterns. The <b>FXSL</b>
functional programming library for XSLT makes this possible. As a
beneficial side effect, a new, useful module  -- <b>Random.xsl</b> --has been added to
<b>FXSL</b>. It will serve the needs of XSLT 1.0 and XSLT 2.0
users.</p>

<h2><a name="Resources">Resources</a></h2>

<p><a id="res1" name="res1"></a>[1] <a
href="../FuncProg/Functional Programming.html">The Functional
Programming Language XSLT - A proof through examples</a> </p>

<p><br />
By <a
href="http://www.topxml.com/members/profile.asp?id=i1005">D.Novatchev</a></p>

<p></p>

<p>The first in a series of articles, demonstrating the
implementation of functional programming in XSLT and its practical
use.</p>

<p></p>

<p><a id="res2" name="res2"></a>[2] <a id="_Toc2132417"
name="_Toc2132417"></a><a
href="../PartialApps/Partial Applications.html">Dynamic Functions
using FXSL: Composition, Partial Applications and Lambda
Expressions</a><br />
</p>

<p>By <a
href="http://www.topxml.com/members/profile.asp?id=i1005">D.Novatchev</a></p>

<p></p>

<p>The second article in the "functional programming in XSLT
series", explaining and demonstrating the implementation of some of
the most powerful design patterns of functional programming.</p>

<p></p>

<p><a id="res3" name="res3"></a>[3] <a
href="http://sourceforge.net/project/showfiles.php?group_id=53841">The
<b>FXSL</b> functional programming library</a></p>

<p></p>

<p>A download from the FXSL SourceForge.Net project. Contains the source code of the
functions from [1], [2] and this article, and much more.
<b>FXSL</b> editions exist for: Saxon, MSXML and Xalan (adapted by
Knut Wannheden).<br />
</p>

<p><a id="res4" name="res4"></a>[4] <i><a
href="http://www.cs.ukc.ac.uk/people/staff/sjt/craft2e/"><em>Haskell:
The Craft of Functional Programming</em></a></i></p>

<p>By Simon Thompson,</p>

<p>Second Edition, Addison-Wesley, 507&nbsp;pages, paperback, 1999.
ISBN 0-201-34275-8.</p>

<p>This book is essential reading for beginners to functional
programming and newcomers to the Haskell programming language. The
emphasis is on the process of crafting programs and the text
contains many examples and running case studies, as well as advice
and program design, testing, problem solving and how to avoid
common pitfalls.</p>

<p></p>

<p><a id="res5" name="res5"></a>[5] <a
href="http://www.w3.org/TR/xpath">XML Path Language (XPath),
Version 1.0, W3C Recommendation 16 November 1999</a></p>

<p><a id="res6" name="res6"></a>[6] <a
href="http://www.w3.org/TR/xquery-operators/">XQuery 1.0 and XPath
2.0 Functions and Operators</a><b>,</b> World Wide Web Consortium.
<em>XQuery 1.0 and XPath 2.0 Functions and Operators</em> W3C
Working Draft, 20 December 2001. </p>

<p></p>

<p></p>

<p></p>

<h2></h2>
</div>

<table border="0" cellpadding="1" cellspacing="1" width="100%"><tr>
<td valign="top" align="right">
<p>&nbsp;</p>
</td>
<td valign="top" align="right" width="150">
&nbsp;		<a href="Casting the Dice with FXSL-htm.htm" target="_top"><img alt="Table Of Contents" border="0" src="contents.gif" width="60" height="15"></a>&nbsp;</td></tr></table>
	</td>
		</tr>
	</table>
	  <p align="center">
		  <a href="http://sourceforge.net">
		   <img src="http://sourceforge.net/sflogo.php?group_id=53841&amp;type=6" 
		        width="210" height="62" border="0" alt="SourceForge.net Logo">
		  </a>
	  </p>
<a target="_top" href="#">
<img name=im src="http://t1.extreme-dm.com/i.gif" height=38
border=0 width=41 alt=""></a><script language="javascript"><!--
an=navigator.appName;d=document;function
pr(){d.write("<img src=\"http://t0.extreme-dm.com",
"/0.gif?tag=dimitren&j=y&srw="+srw+"&srb="+srb+"&",
"rs="+r+"&l="+escape(d.referrer)+"\" height=1 ",
"width=1>");}srb="na";srw="na";//-->
</script><script language="javascript1.2"><!--
s=screen;srw=s.width;an!="Netscape"?
srb=s.colorDepth:srb=s.pixelDepth;//-->
</script><script language="javascript"><!--
r=41;d.images?r=d.im.width:z=0;pr();//-->
</script><noscript><img height=1 width=1 alt="" 
src="http://t0.extreme-dm.com/0.gif?tag=dimitren&j=n"></noscript>


</body>
</html>

