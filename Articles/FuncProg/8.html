<html>
<head>

<meta http-equiv="Content-Type"
content="text/html; charset=windows-1252" />
<title>The Functional Programming Language XSLT - A proof through
examples</title>
<meta NAME='description' CONTENT='The Functional Programming Language XSLT - A proof through
examples'>
</head>
<body>
<table border="0" cellspacing="0">
	<tr>
<td width="100%">
<!-- Navigation --><table border="0" cellpadding="1" cellspacing="1" width="100%"><tr>
<td valign="top" align="right">
<font color="#000080">Page 10 of 11</font>
<p>&nbsp;</p>
</td>
<td valign="top" align="right" width="150">
<A href="7.html"><IMG height=18 alt ="Previous Page" src="arrow_prev.gif" width=18 border=0 ></A>		<A href="Functional Programming.html" target=_top><IMG height=15 alt  ="Table Of Contents" src="contents.gif" width=60 border=0 ></A><A href="9.html"><IMG height=18 alt ="Next Page" src="arrow_next.gif" width=18 border=0 ></A></td></tr></table><table align="right" cellPadding="0" cellSpacing="0" width="30%">
<tr>	<th align="middle" width="100%">Table of Contents</th></tr><tr><td bgColor="#ececff" width="100%"><br>	<font size="1">•&nbsp;</font><A href="Functional Programming.html#Introduction"><font size="1">Introduction</font></A><br>
	<font size="1">•&nbsp;</font><A href="0.html#Starting_point"><font size="1">Starting point</font></A><br>
	<font size="1">•&nbsp;</font><A href="1.html#Major_FP_design_patterns/functions_in_XSLT"><font size="1">Major FP design patterns/functions in XSLT</font></A><br>
	<font size="1">•&nbsp;</font><A href="2.html#List_processing"><font size="1">List processing</font></A><br>
	<font size="1">•&nbsp;</font><A href="3.html#Tree_processing"><font size="1">Tree processing</font></A><br>
	<font size="1">•&nbsp;</font><A href="4.html#Lazy_evaluation"><font size="1">Lazy evaluation</font></A><br>
	<font size="1">•&nbsp;</font><A href="5.html#Advanced_XSLT_FP_applications"><font size="1">Advanced XSLT FP applications</font></A><br>
	<font size="1">•&nbsp;</font><A href="6.html#Square_root"><font size="1">Square root</font></A><br>
	<font size="1">•&nbsp;</font><A href="7.html#Numerical_differentiation"><font size="1">Numerical differentiation</font></A><br>
	<font size="1"><IMG height=11 src="condensed.gif" width=11 border=0>&nbsp;<A href="#Numerical_integration"><font size="1">Numerical integration</font></A><br>
	<font size="1">•&nbsp;</font><A href="9.html#Summary"><font size="1">Summary</font></A><br>
	<br><br></font></td></tr></table>
<h1>The Functional Programming Language XSLT - A proof through
examples</h1>
<div>
<h2><a name="Numerical_integration">Numerical integration</a></h2>

<p>In this section we'll provide a solution to the following
problem: given a real-valued function <b>f</b> which has one real
argument, and two endpoints <b>a</b> and <b>b</b> estimate the area
of the shape defined by the graphic of the function, the abscissa
axis and the end-points.</p>

<p>&nbsp;The numerical integration algorithm we'd be using can be
described in the following steps:</p>

<p>If we think of the curve of the function as a straight line,
then the following function computes exactly the area:</p>

<code>easyintegrate f a b = (f a + f&nbsp; b) * (b - a) / 2</code>

<p>In practice, the curve will be much different, so the above will
provide a satisfactory approximation of the area only on very small
intervals. A list of better and better approximations of the area
can be obtained by successively dividing (each) interval into two
and computing the sum of all subintervals. This is strictly defined
by the following Haskell functions:</p>

<code>integrate :: Fractional a =&gt; (a -&gt; a) -&gt; a -&gt; a -&gt; [a]</code><BR><BR>

<code>integrate f a b = integ f a b (f a) (f b)</code><BR><BR>

<code>integ :: Fractional a =&gt; (a -&gt; a) -&gt; a -&gt; a -&gt; a -&gt; a -&gt; [a]</code><BR><BR>

<code>integ f a b fa fb = let (m, fm ) = ((a + b)/2, f m) in</code><BR><BR>

<code>(((fa+fb)*(b-a)/2):(map addpair(zip(integ f a m fa fm) (integ f m b fm fb))))</code><BR><BR>

<p>where <b>addpair</b> is the sum of a pair of numbers, and <b>
zip</b> produces a list out of two given lists, by making a pair of
the n-th elements of each of the two lists the n-th element of the
resulting list:</p>

<code>zip&nbsp; ::&nbsp; [a] -&gt; [b] -&gt; [(a,b)]</code><BR><BR>

<code>zip (x:xs) (y:ys) = (x,y) zip xs ys</code><BR><BR>

<code>zip _ _ = []</code><BR><BR>

<p>Because XSLT lacks Haskell's ability of lazy evaluation of
infinite lists, we translate the above definition to the following
<b>equivalent algorithm:</b></p>

<p>We build a successive list of one dimensional grids, starting
with&nbsp; the interval [a,b], then producing each successive grid
from the previous, by including its points and for every two
adjacent points <b>a<sub>k</sub></b>, <b>a<sub>k+1</sub></b>a new
point <b>a<sub>mid</sub></b> = (<b>a<sub>k</sub></b> + <b>
a<sub>k+1</sub></b>) / 2. After performing k iterations, the list
will be as follows</p>

<code>grid a b k&nbsp; =&nbsp; [a, a + h, a + 2h, ... a + (2<sup>k</sup> -1)*h, b]</code><BR><BR>

<code>where h = (a-b)/2<sup>k</sup></code><BR><BR>

<p>Then we define a slight modification of&nbsp; <b>
easyintegrate</b>, which operates on two consecutive elements of a
list:</p>

<code>easyintegrate1 f (x:y:ys) = (f x + f&nbsp; y) * (y - x) / 2</code>

<p>Then the&nbsp; <b>partialSum</b>, for a particular <b>
grid</b> will be:</p>

<code>partialSum (grid a b k) = foldl (add . (map easyintegrate1)) 0 (grid a b k)</code>

<p>The list <b>partialSums</b>, for a partial sums over
successively obtained <b>grids</b> can be now defined:</p>

<code>partialSums = [partialSum (grid a b k) | k &lt;- [1..]]</code>

<p>In order to eliminate the very inefficient multiple
re-calculations of f (once for a point in every iteration),&nbsp;
in practice we will construct another <b>grid1</b>:</p>

<code>grid1 f a b k&nbsp; =&nbsp; [h, f a, f (a + h), f (a + 2h), ... f (a + (2<sup>k</sup> -1)*h), f b]</code><BR><BR>

<code>where h = (a-b)/2<sup>k</sup></code>

<p>And we'll use the <b>easyintegrate2</b> function</p>

<code>easyintegrate2 h (x:y:ys) = (x + y) * h / 2</code>

<p>and we change <b>partialSum</b> and <b>partialSums</b>
accordingly, so that <b>partialSum2</b> will use easyintegrate2,
will pass to it the first element of <b>grid1</b> and the tail of
<b>grid1</b> as arguments.</p>

<code>partialSum2 (grid1 f a b k) = foldl (add . (map (easyintegrate2 hdgrid)))) 0 tlGrid</code><BR><BR>

<code>where hdgrid = head (grid1 f a b k); tlGrid = tail (grid1 f a b k)</code><BR><BR>

<code>partialSums2 f a b =         [partialSum2 (grid1 f a b k) | k &lt;- [1..]]</code> 
      <p>Finally, we can select an appropriate element of 
      <b>partialSums2</b> by specifying a 
      tolerance:</p><code>roughIntegration f a b eps = 
      within eps&nbsp; (partialSums2 f a b)</code> 
      <p>Here's the corresponding XSLT implementation:</p>
      <p><a name=partialSumsList 
      ></a>partialSumsList</p>
      <table height=19 width="100%" bgColor=#dcefef border=1 
      >
        
        <tr>
          <td width="100%" height=13><code 
            ><FONT color=#0000ff>&nbsp; 
            &lt;</FONT><FONT face="Courier New" color=#990000 
            >xsl:stylesheet&nbsp;<FONT face="Courier New" 
            color=red>version</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1.0</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            ><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; xmlns:msxsl</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >urn:schemas-microsoft-com:xslt</B></FONT><FONT 
            color=#0000ff>"<BR 
            ></FONT><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; xmlns:pGenerator</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >pGenerator</B></FONT><FONT color=#0000ff 
            >"<BR></FONT><FONT 
            color=#ff0000>&nbsp;&nbsp;&nbsp; 
            xmlns:pController</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >pController</B></FONT><FONT color=#0000ff 
            >"<BR></FONT><FONT 
            color=#ff0000>&nbsp;&nbsp;&nbsp; 
            xmlns:IntervalParams</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >IntervalParams</B></FONT><FONT color=#0000ff 
            >"<BR></FONT><FONT 
            color=#ff0000>&nbsp;&nbsp;&nbsp; 
            xmlns:mapEasyIntegrate</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >mapEasyIntegrate</B></FONT><FONT color=#0000ff 
            >"<BR></FONT><FONT 
            color=#ff0000>&nbsp;&nbsp;&nbsp; 
            xmlns:easy-integrate</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >easy-integrate</B></FONT><FONT color=#0000ff 
            >"</FONT><BR><FONT 
            face="Courier New" color=red>&nbsp;&nbsp;&nbsp; 
            exclude-result-prefixes</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">xsl msxsl pGenerator pController</XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                              IntervalParams easy-integrate</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">buildListWhileMap.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">foldl.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:output&nbsp;<FONT face="Courier New" 
            color=red>indent</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">yes</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" 
            color=red>omit-xml-declaration</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">yes</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >pGenerator:pGenerator</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >pController:pController</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >mapEasyIntegrate:mapEasyIntegrate</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >easy-integrate:easy-integrate</FONT><FONT 
            face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">partialSumsList</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEps</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyGenerator</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/pGenerator:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyController</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/pController:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vmyEasyIntegrateMap</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/mapEasyIntegrate:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vrtfvIntervalParams</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >IntervalParams:IntervalParams</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >Interval</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>el</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pA</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>el</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>el</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pB</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>el</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >Interval</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:copy-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >IntervalParams:IntervalParams</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vIntervalParams</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vrtfvIntervalParams)/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vrtfResultIntervalList</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">buildListWhileMap</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pGenerator</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyGenerator</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pController</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyController</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParam0</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vIntervalParams</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pContollerParam</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pEps</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pMap</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vmyEasyIntegrateMap</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:copy-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vrtfResultIntervalList)</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vResultIntervalList</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vrtfResultIntervalList)/*[last()]/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">listGenerator</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >match</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='pGenerator']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParams</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA0</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">string($pParams/*[1]/*[1])</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB0</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">string($pParams/*[1]/*[2])</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pParams/*[2]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when&nbsp;<FONT face="Courier New" color=red 
            >test</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">not($pList)</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vFa</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT></FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:apply-templates&nbsp;<FONT 
            face="Courier New" color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pA0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:apply-templates</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vFb</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:apply-templates&nbsp;<FONT 
            face="Courier New" color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pB0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:apply-templates</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pB0 - $pA0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vFa</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vFb</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vprevH</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[last()]/*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vH</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vprevH div 2</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vH</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:for-each&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[last()]/*[position() > 1 </XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                                and position() != last()]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pA0 + (position() - 1) * $vprevH</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMid</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vA + $vH</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vF_mid</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:apply-templates&nbsp;<FONT 
            face="Courier New" color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMid</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:apply-templates</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:copy-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">.</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vF_mid</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000>e</FONT><FONT 
            face="Courier New" color=blue>&gt;<BR 
            ></FONT><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:for-each</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:copy-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[last()]/*[last()]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">listController</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='pController']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParams</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when&nbsp;<FONT face="Courier New" color=red 
            >test</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">count($pList) &lt; 2</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1</XMP><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vLastDiff</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[last()] - $pList[last() - 1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:if&nbsp;<FONT face="Courier New" color=red 
            >test</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">not($vLastDiff &lt; $pParams </XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                        and $vLastDiff > (0 - $pParams))</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1</XMP><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:if</FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">mapEasyIntegrate</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='mapEasyIntegrate']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParams</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><FONT face="Courier New" color=green 
            >&lt;!-- pMapParams --&gt;</FONT><FONT 
            face="Times New Roman"> <BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pDynParams</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><FONT face="Courier New" color=green 
            >&lt;!-- NewBaseListElement --&gt;</FONT><FONT 
            face="Times New Roman"> <BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vResult</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">multiIntegrate</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pDynParams/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:copy-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vResult)</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">multiIntegrate</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/*/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vmyeasyIntegrateFn</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/easy-integrate:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">foldl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFunc</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vmyeasyIntegrateFn</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[position() > 1 </XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                                                and position() &lt; last()]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA0</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myEasyIntegrateFn</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
            face="Courier New" color=red>match</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='easy-integrate']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">arg1</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><FONT face="Courier New" color=green 
            >&lt;!-- pA0 --&gt;</FONT><FONT 
            face="Times New Roman"> <BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">arg2</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><FONT face="Courier New" color=green 
            >&lt;!-- node --&gt;</FONT><FONT 
            face="Times New Roman"> <BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$arg1 + </XMP><br 
            ><XMP style="DISPLAY: inline; COLOR: black">                             (($arg2 + $arg2/following-sibling::*[1]) div 2 ) </XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                             * $arg2/../*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:stylesheet</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT></code> 
      </td></tr></table>
      <p>Let's test <b>partialSumsList </B>in a concrete 
      example. We want to produce the list of partial sums for:</P><code 
      ><FONT face="Times New Roman">&nbsp;&nbsp;1<BR><FONT 
      size=6>&#8747;</FONT> <FONT size=4>x² <I>dx</I></FONT>&nbsp;<BR>0</FONT></CODE>
      <p>testPartialSumsList.xsl</P>
      <table height=19 width="100%" bgColor=#dcefef border=1>
        
        <tr>
          <td width="100%" height=13><code 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:stylesheet&nbsp;<FONT face="Courier New" 
            color=red>version</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1.0</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            ><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; xmlns:xsl</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >http://www.w3.org/1999/XSL/Transform</B></FONT><FONT 
            color=#0000ff>"<BR 
            ></FONT><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; xmlns:msxsl</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >urn:schemas-microsoft-com:xslt</B></FONT><FONT 
            color=#0000ff>"<BR 
            ></FONT><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; 
            xmlns:IntegralFunction</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >IntegralFunction</B></FONT><FONT color=#0000ff 
            >"<BR></FONT><FONT 
            face="Courier New" color=red>&nbsp;&nbsp;&nbsp; 
            exclude-result-prefixes</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">xsl IntegralFunction</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">partialSumsList.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:output&nbsp;<FONT face="Courier New" 
            color=red>indent</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">yes</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >omit-xml-declaration</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">yes</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >IntegralFunction:IntegralFunction</FONT><FONT 
            face="Courier New" color=blue>/&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>match</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
            face="Courier New" color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/IntegralFunction:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vrtfPartialSums</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">partialSumsList</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEps</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vPartialSums</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
            face="Courier New" color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vrtfPartialSums)/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:copy-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vPartialSums</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myIntegralFn</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='IntegralFunction']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pX * $pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:stylesheet</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT></CODE></TD></TR></TABLE><br>Results of testPartialSumsList.xsl&nbsp;
			<BR>
<code><FONT face="Times New Roman">&nbsp;&nbsp;1<BR><FONT 
      size=6>&#8747;</FONT> <FONT size=4>x² <I>dx</I></FONT>&nbsp;<BR>0</FONT></CODE>
      <table width="100%" bgColor=#ffffcc border=1>
        
        <tr>
          <td width="100%"><EL 
            >0.5</EL> <EL>0.375</EL> <EL 
            >0.34375</EL> <EL 
            >0.3359375</EL> <EL 
            >0.333984375</TD></TR></TABLE>
      <p>As we can see, the last partial sum is an 
      approximation of the true value of the integral (1/3) with the desired 
      accuracy.</P>
      <p>A final thought about the above sequence -- it is 
      produced with successive halving of h. Therefore, we can improve it, using 
      the same mechanism as we used in implementing numerical differentiation. 
      The <b 
      >improvedIntegration 
      </B>template bellow is almost identical to the <font 
      face="Courier New"><b 
      >improvedDiff</B></FONT> function from section 4.2. We 
      are producing a list of successively improved lists of&nbsp; partial sums 
      and taking every second element of these lists, until our tolerance 
      criterion has been satisfied.</P>
      <p>It is instructive to see how much we are re-using 
      the powerful generic functionality that was already built. Such reuse 
      would simply be impossible without having implemented higher-order 
      functions in XSLT.</P>
      <p><a name=improvedIntegration 
      ></A>improvedIntegration</P>
      <table height=19 width="100%" bgColor=#dcefef border=1>
        
        <tr>
          <td width="100%" height=13><code 
            ><FONT color=#0000ff>&nbsp; 
            &lt;</FONT><FONT face="Courier New" color=#990000 
            >xsl:stylesheet&nbsp;<FONT face="Courier New" 
            color=red>version</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1.0</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            ><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; xmlns:xsl</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >http://www.w3.org/1999/XSL/Transform</B></FONT><FONT 
            color=#0000ff>"<BR 
            ></FONT><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; xmlns:msxsl</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >urn:schemas-microsoft-com:xslt</B></FONT><FONT 
            color=#0000ff>"<BR 
            ></FONT><FONT color=#ff0000 
            >&nbsp;&nbsp;&nbsp; 
            xmlns:myImproveGenerator</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >myImproveGenerator</B></FONT><FONT color=#0000ff 
            >"<BR></FONT><FONT 
            color=#ff0000>&nbsp;&nbsp;&nbsp; 
            xmlns:myImproveController</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >myImproveController</B></FONT><FONT 
            color=#0000ff>" <BR 
            ></FONT><FONT face="Courier New" color=red 
            >&nbsp;&nbsp;&nbsp; 
            exclude-result-prefixes</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">xsl msxsl myImproveGenerator</XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                               myImproveController</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improve.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">take.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">takeWhile.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">PartialSumsList.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >myImproveGenerator:myImproveGenerator</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >myImproveController:myImproveController</FONT><FONT 
            face="Courier New" color=blue>/&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:output&nbsp;<FONT face="Courier New" 
            color=red>indent</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">yes</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >omit-xml-declaration</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">yes</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improvedIntegration</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsRough</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.0001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsImproved</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.0000001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyImproveGenerator</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
            face="Courier New" color=red>select</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/myImproveGenerator:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyImproveController</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/myImproveController:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vrtfRoughResults</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">partialSumsList</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pA</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pB</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEps</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pEpsRough</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vrtfResults</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">takeWhile</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pGenerator</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyImproveGenerator</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParam0</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vrtfRoughResults)/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pController</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyImproveController</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pContollerParam</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pEpsImproved</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable</FONT><FONT face="Courier New" 
            color=blue>&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vResults</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">msxsl:node-set($vrtfResults)/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vResults[last()]/*[2]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myImproveGenerator</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='myImproveGenerator']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParams</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when&nbsp;<FONT face="Courier New" color=red 
            >test</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">not($pList)</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improve</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pParams</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improve</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[last()]/*</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">MyImproveController</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='myImproveController']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pList</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/..</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pParams</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.01</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when&nbsp;<FONT face="Courier New" color=red 
            >test</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">count($pList) &lt; 2</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1</XMP><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:when</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vDiff</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pList[last()]/*[2] - $pList[last() - 1]/*[2]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:if&nbsp;<FONT face="Courier New" color=red 
            >test</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">not($vDiff &lt; $pParams and $vDiff > (0 - $pParams))</XMP><br 
            ><XMP style="DISPLAY: inline; COLOR: black">           and count($pList) &lt;= 5 </XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1</XMP><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:if</FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:otherwise</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:choose</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:stylesheet</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT></CODE></TD></TR></TABLE>
      <p>Let's now test <b 
      >improvedIntegration</B> with a concrete 
      example. We want to calculate the following four integrals:</P>
<table border="0" width="100%">
  <tr>
    <td width="20%">
      &nbsp;1<br>
      <font size="6">&#8747;</font> <font size="5"> x²
      </font>
      <i><font size="4">dx</font></i><font size="5">&nbsp; ,<br>
      </font>
      0</td>
    <td width="20%">
      &nbsp;1<br>
      <font size="6">&#8747;</font> <font size="5"> x³</font>&nbsp;<i><font size="4">dx</font></i>&nbsp;
      &nbsp;,<br>
      0</td>
    <td width="35%">1<br>
      <font size="6">&#8747;</font> <font size="4">4/(</font><font size="3">1</font><font size="4"> +
      </font><font size="5">x²</font><font size="4">)</font>&nbsp;&nbsp;<i><font size="4">dx</font></i>
      ,&nbsp;&nbsp; and<br>
      0</td>
    <td width="25%">
      &nbsp;2<br>
      <font size="6">&#8747;</font> <font size="3">1</font><font size="4">/x</font>&nbsp;<i><font size="4">dx</font></i><br>
      1<br>
    </td>
  </tr>
</table>      
<p>These should return accordingly: <br><br>

<table border="0" width="100%">
  <tr>
    <td width="20%">1/3,</td>
    <td width="20%">1/4,</td>
    <td width="35%">3.1415926... (Pi),</td>
    <td width="25%">0.69314718... (ln 2)</td>
  </tr>
</table>
<p>&nbsp;</P>
      <p>testImprovedIntegration.xsl</P>
      <table height=19 width="100%" bgColor=#dcefef border=1>
        
        <tr>
          <td width="100%" height=13><code 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:stylesheet&nbsp;<FONT face="Courier New" 
            color=red>version</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1.0</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            ><FONT face="Courier New" color=red 
            >&nbsp;&nbsp;&nbsp; xmlns:xsl<FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >http://www.w3.org/1999/XSL/Transform</B></FONT><FONT 
            color=#0000ff>"<BR 
            >&nbsp;&nbsp;&nbsp; </FONT><FONT color=#ff0000 
            >xmlns:IntegralFunction</FONT><FONT color=#0000ff 
            >="</FONT><FONT color=#ff0000 
            ><B 
            >IntegralFunction</B></FONT><FONT color=#0000ff 
            >"<BR>&nbsp;&nbsp;&nbsp; 
            </FONT><FONT color=#ff0000 
            >xmlns:IntegralFunction2</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >IntegralFunction2</B></FONT><FONT color=#0000ff 
            >"<BR>&nbsp;&nbsp;&nbsp; 
            </FONT><FONT color=#ff0000 
            >xmlns:IntegralFunction3</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >IntegralFunction3</B></FONT><FONT color=#0000ff 
            >"<BR>&nbsp;&nbsp;&nbsp; 
            </FONT><FONT color=#ff0000 
            >xmlns:IntegralFunction4</FONT><FONT 
            color=#0000ff>="</FONT><FONT color=#ff0000 
            ><B 
            >IntegralFunction4</B></FONT><FONT color=#0000ff 
            >"<BR 
            ></FONT>&nbsp;&nbsp;&nbsp; 
            exclude-result-prefixes</FONT> <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">xsl IntegralFunction IntegralFunction2 </XMP><BR 
            ><XMP style="DISPLAY: inline; COLOR: black">                               IntegralFunction3 IntegralFunction4</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:import&nbsp;<FONT face="Courier New" 
            color=red>href</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improvedIntegration.xsl</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:output&nbsp;<FONT face="Courier New" 
            color=red>method</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">html</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >encoding</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">UTF-8</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >IntegralFunction:IntegralFunction</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >IntegralFunction2:IntegralFunction2</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >IntegralFunction3:IntegralFunction3</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >IntegralFunction4:IntegralFunction4</FONT><FONT 
            face="Courier New" color=blue>/&gt;<BR 
            ></FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>match</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">/</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px"> 1 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>font&nbsp;<FONT 
            face="Courier New" color=red>size</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">5</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">&#x222B;</XMP><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >font</FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px"> x&#x00B2; = </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/IntegralFunction:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improvedIntegration</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyFun</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsRough</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsImproved</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.0001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">0 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><EM 
            >&amp;#xA0;</EM><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>font&nbsp;<FONT 
            face="Courier New" color=red>size</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">5</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><EM 
            >&amp;#x222B;</EM><FONT face="Courier New" 
            color=blue>&lt;/</FONT><FONT face="Courier New" 
            color=#990000>font</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px"> </XMP><STRONG 
            >x</STRONG><I>&amp;#x00B2;</I><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px"> = </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyFun2</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/IntegralFunction2:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improvedIntegration</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyFun2</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsRough</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsImproved</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.0001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">0 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><EM 
            >&amp;#xA0;</EM><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>font&nbsp;<FONT 
            face="Courier New" color=red>size</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">5</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><EM 
            >&amp;#x222B;</EM><FONT face="Courier New" 
            color=blue>&lt;/</FONT><FONT face="Courier New" 
            color=#990000>font</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px"> 4/(1 + x</XMP><EM 
            >&amp;#x00B2;</EM><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">) = </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyFun3</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/IntegralFunction3:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improvedIntegration</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyFun3</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsRough</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.00001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsImproved</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.0000000000001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">0 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><EM 
            >&amp;#xA0;</EM><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">2 </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>font&nbsp;<FONT 
            face="Courier New" color=red>size</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">5</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><EM 
            >&amp;#x222B;</EM><FONT face="Courier New" 
            color=blue>&lt;/</FONT><FONT face="Courier New" 
            color=#990000>font</FONT><FONT 
            face="Courier New" color=blue>&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px"> 1/x = </XMP><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:variable&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">vMyFun4</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>select</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">document('')/*/IntegralFunction4:*[1]</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">improvedIntegration</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pFun</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$vMyFun4</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pA</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pB</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">2</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsRough</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.00001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:with-param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pEpsImproved</XMP><FONT 
            face="Courier New" color=blue 
            >"</FONT>&nbsp;<FONT face="Courier New" color=red 
            >select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">0.000000001</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:call-template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000>br</FONT><FONT 
            face="Courier New" color=blue>/&gt;</FONT><XMP style="PADDING-RIGHT: 0px; DISPLAY: inline; PADDING-LEFT: 0px; MARGIN: 0em; PADDING-TOP: 0px">1 </XMP><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myIntegralFn</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<FONT 
            face="Courier New" color=red>match</FONT> <FONT 
            face="Courier New" color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='IntegralFunction']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pX * $pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myIntegralFn2</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='IntegralFunction2']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">$pX * $pX * $pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myIntegralFn3</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='IntegralFunction3']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">4 div (1 + $pX * $pX)</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">myIntegralFn4</XMP><FONT 
            face="Courier New" color=blue>"</FONT>&nbsp;<BR 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
            <FONT face="Courier New" color=red>match</FONT> 
            <FONT face="Courier New" color=blue 
            >=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">*[namespace-uri()='IntegralFunction4']</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >&gt;<BR></FONT><BR 
            ><FONT face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:param&nbsp;<FONT face="Courier New" 
            color=red>name</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:value-of&nbsp;<FONT face="Courier New" 
            color=red>select</FONT> <FONT face="Courier New" 
            color=blue>=&nbsp;"</FONT><XMP style="DISPLAY: inline; COLOR: black">1 div $pX</XMP><FONT 
            face="Courier New" color=blue>"</FONT> 
            </FONT><FONT face="Courier New" color=blue 
            >/&gt;</FONT><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:template</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT><BR 
            ><BR><FONT 
            face="Times New Roman" 
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</FONT><FONT 
            face="Courier New" color=blue>&lt;/</FONT><FONT 
            face="Courier New" color=#990000 
            >xsl:stylesheet</FONT><FONT face="Courier New" 
            color=blue>&gt;</FONT></CODE></TD></TR></TABLE>
<p>Results of testImprovedIntegration.xsl</p>
<table border="1" width="100%" bgcolor="#ffffcc">
  <tr>
    <td width="100%"><br>
      &nbsp;1<br>
      <font size="6">&#8747;</font> <font size="5"> x² </font><font size="4"><i>dx</i></font>
      = 0.3333333333333333<br>
      0<br>
      <br>
      &nbsp;1<br>
      <font size="6">&#8747;</font> <font size="5"> x³ </font><i><font size="4">dx</font></i> = 0.25<br>
      0<br>
      <br>
      &nbsp;1<br>
      <font size="6">&#8747;</font> <font size="4">4/(</font><font size="3">1</font><font size="4"> +
      </font><font size="5">x²</font><font size="4">)</font>  <font size="4"><i>dx
      </i></font>= 3.1415926535897096<br>
      0<br>
      <br>
      &nbsp;2<br>
      <font size="6">&#8747;</font> <font size="3">1</font><font size="4">/x</font> 
      <font size="4"><i>dx </i></font>= 0.693147180943227<br>
      1</td>
  </tr>
</table>

      <p></P>
</div>
      <table cellSpacing=1 cellPadding=1 width="100%" border=0 
      >
        
        <tr>
          <td vAlign=top align=right><font color=#000080 
            >Page 10 of 11</FONT> 
            <p>&nbsp;</P></TD>
          <td vAlign=top align=right width=150><A href="7.html" ><IMG height=18 alt="Previous Page" src="arrow_prev.gif" width=18 border=0 ></A> <A href="Functional Programming.html" target=_top ><IMG height=15 alt="Table Of Contents" src="contents.gif" width=60 border=0 ></A><A href="9.html" ><IMG height=18 alt="Next Page" src="arrow_next.gif" width=18 border=0 ></A></TD></TR></TABLE>
	</td>
		</tr>
	</table>
	
	<p>As can be seen, the accuracy of the calculated Pi is 13 digits after the decimal point, and the
	accuracy of calculating ln 2 is 9 digits after the decimal point.</p>
	
	  <p align="center">
		  <a href="http://sourceforge.net">
		   <img src="http://sourceforge.net/sflogo.php?group_id=53841&amp;type=6" 
		        width="210" height="62" border="0" alt="SourceForge.net Logo">
		  </a>
	  </p>
<a target="_top" href="#">
<img name=im src="http://t1.extreme-dm.com/i.gif" height=38
border=0 width=41 alt=""></a><script language="javascript"><!--
an=navigator.appName;d=document;function
pr(){d.write("<img src=\"http://t0.extreme-dm.com",
"/0.gif?tag=dimitren&j=y&srw="+srw+"&srb="+srb+"&",
"rs="+r+"&l="+escape(d.referrer)+"\" height=1 ",
"width=1>");}srb="na";srw="na";//-->
</script><script language="javascript1.2"><!--
s=screen;srw=s.width;an!="Netscape"?
srb=s.colorDepth:srb=s.pixelDepth;//-->
</script><script language="javascript"><!--
r=41;d.images?r=d.im.width:z=0;pr();//-->
</script><noscript><img height=1 width=1 alt="" 
src="http://t0.extreme-dm.com/0.gif?tag=dimitren&j=n"></noscript>

	
</body>
</html>

